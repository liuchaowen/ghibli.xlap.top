(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,88143,(e,t,r)=>{"use strict";function l(e){let{widthInt:t,heightInt:r,blurWidth:l,blurHeight:a,blurDataURL:n,objectFit:s}=e,i=l?40*l:t,o=a?40*a:r,d=i&&o?"viewBox='0 0 "+i+" "+o+"'":"";return"%3Csvg xmlns='http://www.w3.org/2000/svg' "+d+"%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='"+(d?"none":"contain"===s?"xMidYMid":"cover"===s?"xMidYMid slice":"none")+"' style='filter: url(%23b);' href='"+n+"'/%3E%3C/svg%3E"}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getImageBlurSvg",{enumerable:!0,get:function(){return l}})},87690,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{VALID_LOADERS:function(){return l},imageConfigDefault:function(){return a}});let l=["default","imgix","cloudinary","akamai","custom"],a={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:60,formats:["image/webp"],dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:void 0,unoptimized:!1}},8927,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getImgProps",{enumerable:!0,get:function(){return o}}),e.r(33525);let l=e.r(88143),a=e.r(87690),n=["-moz-initial","fill","none","scale-down",void 0];function s(e){return void 0!==e.default}function i(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function o(e,t){var r,o;let d,c,u,{src:m,sizes:f,unoptimized:h=!1,priority:g=!1,loading:p,className:x,quality:b,width:v,height:w,fill:j=!1,style:y,overrideSrc:N,onLoad:_,onLoadingComplete:k,placeholder:C="empty",blurDataURL:S,fetchPriority:E,decoding:P="async",layout:M,objectFit:O,objectPosition:R,lazyBoundary:z,lazyRoot:I,...A}=e,{imgConf:L,showAltText:B,blurComplete:T,defaultLoader:D}=t,X=L||a.imageConfigDefault;if("allSizes"in X)d=X;else{let e=[...X.deviceSizes,...X.imageSizes].sort((e,t)=>e-t),t=X.deviceSizes.sort((e,t)=>e-t),l=null==(r=X.qualities)?void 0:r.sort((e,t)=>e-t);d={...X,allSizes:e,deviceSizes:t,qualities:l}}if(void 0===D)throw Object.defineProperty(Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config"),"__NEXT_ERROR_CODE",{value:"E163",enumerable:!1,configurable:!0});let U=A.loader||D;delete A.loader,delete A.srcSet;let F="__next_img_default"in U;if(F){if("custom"===d.loader)throw Object.defineProperty(Error('Image with src "'+m+'" is missing "loader" prop.\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader'),"__NEXT_ERROR_CODE",{value:"E252",enumerable:!1,configurable:!0})}else{let e=U;U=t=>{let{config:r,...l}=t;return e(l)}}if(M){"fill"===M&&(j=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[M];e&&(y={...y,...e});let t={responsive:"100vw",fill:"100vw"}[M];t&&!f&&(f=t)}let W="",q=i(v),G=i(w);if((o=m)&&"object"==typeof o&&(s(o)||void 0!==o.src)){let e=s(m)?m.default:m;if(!e.src)throw Object.defineProperty(Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received "+JSON.stringify(e)),"__NEXT_ERROR_CODE",{value:"E460",enumerable:!1,configurable:!0});if(!e.height||!e.width)throw Object.defineProperty(Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received "+JSON.stringify(e)),"__NEXT_ERROR_CODE",{value:"E48",enumerable:!1,configurable:!0});if(c=e.blurWidth,u=e.blurHeight,S=S||e.blurDataURL,W=e.src,!j)if(q||G){if(q&&!G){let t=q/e.width;G=Math.round(e.height*t)}else if(!q&&G){let t=G/e.height;q=Math.round(e.width*t)}}else q=e.width,G=e.height}let H=!g&&("lazy"===p||void 0===p);(!(m="string"==typeof m?m:W)||m.startsWith("data:")||m.startsWith("blob:"))&&(h=!0,H=!1),d.unoptimized&&(h=!0),F&&!d.dangerouslyAllowSVG&&m.split("?",1)[0].endsWith(".svg")&&(h=!0);let V=i(b),K=Object.assign(j?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:O,objectPosition:R}:{},B?{}:{color:"transparent"},y),J=T||"empty"===C?null:"blur"===C?'url("data:image/svg+xml;charset=utf-8,'+(0,l.getImageBlurSvg)({widthInt:q,heightInt:G,blurWidth:c,blurHeight:u,blurDataURL:S||"",objectFit:K.objectFit})+'")':'url("'+C+'")',Y=n.includes(K.objectFit)?"fill"===K.objectFit?"100% 100%":"cover":K.objectFit,$=J?{backgroundSize:Y,backgroundPosition:K.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:J}:{},Q=function(e){let{config:t,src:r,unoptimized:l,width:a,quality:n,sizes:s,loader:i}=e;if(l)return{src:r,srcSet:void 0,sizes:void 0};let{widths:o,kind:d}=function(e,t,r){let{deviceSizes:l,allSizes:a}=e;if(r){let e=/(^|\s)(1?\d?\d)vw/g,t=[];for(let l;l=e.exec(r);)t.push(parseInt(l[2]));if(t.length){let e=.01*Math.min(...t);return{widths:a.filter(t=>t>=l[0]*e),kind:"w"}}return{widths:a,kind:"w"}}return"number"!=typeof t?{widths:l,kind:"w"}:{widths:[...new Set([t,2*t].map(e=>a.find(t=>t>=e)||a[a.length-1]))],kind:"x"}}(t,a,s),c=o.length-1;return{sizes:s||"w"!==d?s:"100vw",srcSet:o.map((e,l)=>i({config:t,src:r,quality:n,width:e})+" "+("w"===d?e:l+1)+d).join(", "),src:i({config:t,src:r,quality:n,width:o[c]})}}({config:d,src:m,unoptimized:h,width:q,quality:V,sizes:f,loader:U});return{props:{...A,loading:H?"lazy":p,fetchPriority:E,width:q,height:G,decoding:P,className:x,style:{...K,...$},sizes:Q.sizes,srcSet:Q.srcSet,src:N||Q.src},meta:{unoptimized:h,priority:g,placeholder:C,fill:j}}}},98879,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return i}});let l=e.r(71645),a="undefined"==typeof window,n=a?()=>{}:l.useLayoutEffect,s=a?()=>{}:l.useEffect;function i(e){let{headManager:t,reduceComponentsToState:r}=e;function i(){if(t&&t.mountedInstances){let a=l.Children.toArray(Array.from(t.mountedInstances).filter(Boolean));t.updateHead(r(a,e))}}if(a){var o;null==t||null==(o=t.mountedInstances)||o.add(e.children),i()}return n(()=>{var r;return null==t||null==(r=t.mountedInstances)||r.add(e.children),()=>{var r;null==t||null==(r=t.mountedInstances)||r.delete(e.children)}}),n(()=>(t&&(t._pendingUpdate=i),()=>{t&&(t._pendingUpdate=i)})),s(()=>(t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null),()=>{t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null)})),null}},58908,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"AmpStateContext",{enumerable:!0,get:function(){return l}});let l=e.r(55682)._(e.r(71645)).default.createContext({})},15986,(e,t,r)=>{"use strict";function l(e){let{ampFirst:t=!1,hybrid:r=!1,hasQuery:l=!1}=void 0===e?{}:e;return t||r&&l}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isInAmpMode",{enumerable:!0,get:function(){return l}})},25633,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{default:function(){return g},defaultHead:function(){return u}});let l=e.r(55682),a=e.r(90809),n=e.r(43476),s=a._(e.r(71645)),i=l._(e.r(98879)),o=e.r(58908),d=e.r(42732),c=e.r(15986);function u(e){void 0===e&&(e=!1);let t=[(0,n.jsx)("meta",{charSet:"utf-8"},"charset")];return e||t.push((0,n.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")),t}function m(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===s.default.Fragment?e.concat(s.default.Children.toArray(t.props.children).reduce((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t),[])):e.concat(t)}e.r(33525);let f=["name","httpEquiv","charSet","itemProp"];function h(e,t){let{inAmpMode:r}=t;return e.reduce(m,[]).reverse().concat(u(r).reverse()).filter(function(){let e=new Set,t=new Set,r=new Set,l={};return a=>{let n=!0,s=!1;if(a.key&&"number"!=typeof a.key&&a.key.indexOf("$")>0){s=!0;let t=a.key.slice(a.key.indexOf("$")+1);e.has(t)?n=!1:e.add(t)}switch(a.type){case"title":case"base":t.has(a.type)?n=!1:t.add(a.type);break;case"meta":for(let e=0,t=f.length;e<t;e++){let t=f[e];if(a.props.hasOwnProperty(t))if("charSet"===t)r.has(t)?n=!1:r.add(t);else{let e=a.props[t],r=l[t]||new Set;("name"!==t||!s)&&r.has(e)?n=!1:(r.add(e),l[t]=r)}}}return n}}()).reverse().map((e,t)=>{let r=e.key||t;return s.default.cloneElement(e,{key:r})})}let g=function(e){let{children:t}=e,r=(0,s.useContext)(o.AmpStateContext),l=(0,s.useContext)(d.HeadManagerContext);return(0,n.jsx)(i.default,{reduceComponentsToState:h,headManager:l,inAmpMode:(0,c.isInAmpMode)(r),children:t})};("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},18556,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ImageConfigContext",{enumerable:!0,get:function(){return n}});let l=e.r(55682)._(e.r(71645)),a=e.r(87690),n=l.default.createContext(a.imageConfigDefault)},65856,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"RouterContext",{enumerable:!0,get:function(){return l}});let l=e.r(55682)._(e.r(71645)).default.createContext(null)},1948,(e,t,r)=>{"use strict";function l(e){var t;let{config:r,src:l,width:a,quality:n}=e,s=n||(null==(t=r.qualities)?void 0:t.reduce((e,t)=>Math.abs(t-75)<Math.abs(e-75)?t:e))||75;return r.path+"?url="+encodeURIComponent(l)+"&w="+a+"&q="+s+(l.startsWith("/_next/static/media/"),"")}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return a}}),l.__next_img_default=!0;let a=l},18581,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return a}});let l=e.r(71645);function a(e,t){let r=(0,l.useRef)(null),a=(0,l.useRef)(null);return(0,l.useCallback)(l=>{if(null===l){let e=r.current;e&&(r.current=null,e());let t=a.current;t&&(a.current=null,t())}else e&&(r.current=n(e,l)),t&&(a.current=n(t,l))},[e,t])}function n(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},5500,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"Image",{enumerable:!0,get:function(){return w}});let l=e.r(55682),a=e.r(90809),n=e.r(43476),s=a._(e.r(71645)),i=l._(e.r(74080)),o=l._(e.r(25633)),d=e.r(8927),c=e.r(87690),u=e.r(18556);e.r(33525);let m=e.r(65856),f=l._(e.r(1948)),h=e.r(18581),g={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0};function p(e,t,r,l,a,n,s){let i=null==e?void 0:e.src;e&&e["data-loaded-src"]!==i&&(e["data-loaded-src"]=i,("decode"in e?e.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("empty"!==t&&a(!0),null==r?void 0:r.current){let t=new Event("load");Object.defineProperty(t,"target",{writable:!1,value:e});let l=!1,a=!1;r.current({...t,nativeEvent:t,currentTarget:e,target:e,isDefaultPrevented:()=>l,isPropagationStopped:()=>a,persist:()=>{},preventDefault:()=>{l=!0,t.preventDefault()},stopPropagation:()=>{a=!0,t.stopPropagation()}})}(null==l?void 0:l.current)&&l.current(e)}}))}function x(e){return s.use?{fetchPriority:e}:{fetchpriority:e}}"undefined"==typeof window&&(globalThis.__NEXT_IMAGE_IMPORTED=!0);let b=(0,s.forwardRef)((e,t)=>{let{src:r,srcSet:l,sizes:a,height:i,width:o,decoding:d,className:c,style:u,fetchPriority:m,placeholder:f,loading:g,unoptimized:b,fill:v,onLoadRef:w,onLoadingCompleteRef:j,setBlurComplete:y,setShowAltText:N,sizesInput:_,onLoad:k,onError:C,...S}=e,E=(0,s.useCallback)(e=>{e&&(C&&(e.src=e.src),e.complete&&p(e,f,w,j,y,b,_))},[r,f,w,j,y,C,b,_]),P=(0,h.useMergedRef)(t,E);return(0,n.jsx)("img",{...S,...x(m),loading:g,width:o,height:i,decoding:d,"data-nimg":v?"fill":"1",className:c,style:u,sizes:a,srcSet:l,src:r,ref:P,onLoad:e=>{p(e.currentTarget,f,w,j,y,b,_)},onError:e=>{N(!0),"empty"!==f&&y(!0),C&&C(e)}})});function v(e){let{isAppRouter:t,imgAttributes:r}=e,l={as:"image",imageSrcSet:r.srcSet,imageSizes:r.sizes,crossOrigin:r.crossOrigin,referrerPolicy:r.referrerPolicy,...x(r.fetchPriority)};return t&&i.default.preload?(i.default.preload(r.src,l),null):(0,n.jsx)(o.default,{children:(0,n.jsx)("link",{rel:"preload",href:r.srcSet?void 0:r.src,...l},"__nimg-"+r.src+r.srcSet+r.sizes)})}let w=(0,s.forwardRef)((e,t)=>{let r=(0,s.useContext)(m.RouterContext),l=(0,s.useContext)(u.ImageConfigContext),a=(0,s.useMemo)(()=>{var e;let t=g||l||c.imageConfigDefault,r=[...t.deviceSizes,...t.imageSizes].sort((e,t)=>e-t),a=t.deviceSizes.sort((e,t)=>e-t),n=null==(e=t.qualities)?void 0:e.sort((e,t)=>e-t);return{...t,allSizes:r,deviceSizes:a,qualities:n}},[l]),{onLoad:i,onLoadingComplete:o}=e,h=(0,s.useRef)(i);(0,s.useEffect)(()=>{h.current=i},[i]);let p=(0,s.useRef)(o);(0,s.useEffect)(()=>{p.current=o},[o]);let[x,w]=(0,s.useState)(!1),[j,y]=(0,s.useState)(!1),{props:N,meta:_}=(0,d.getImgProps)(e,{defaultLoader:f.default,imgConf:a,blurComplete:x,showAltText:j});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(b,{...N,unoptimized:_.unoptimized,placeholder:_.placeholder,fill:_.fill,onLoadRef:h,onLoadingCompleteRef:p,setBlurComplete:w,setShowAltText:y,sizesInput:e.sizes,ref:t}),_.priority?(0,n.jsx)(v,{isAppRouter:!r,imgAttributes:N}):null]})});("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},94909,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{default:function(){return o},getImageProps:function(){return i}});let l=e.r(55682),a=e.r(8927),n=e.r(5500),s=l._(e.r(1948));function i(e){let{props:t}=(0,a.getImgProps)(e,{defaultLoader:s.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let o=n.Image},57688,(e,t,r)=>{t.exports=e.r(94909)},52683,e=>{"use strict";e.s(["default",()=>i],52683);var t=e.i(43476),r=e.i(71645),l=e.i(57688);let a=e=>{let{original:a,effect:n,ossHost:s}=e,[i,o]=(0,r.useState)(50),[d,c]=(0,r.useState)(!1),u=(0,r.useRef)(null),m=()=>{c(!0)},f=()=>{c(!0)};return(0,r.useEffect)(()=>{let e=()=>{c(!1)};return window.addEventListener("mouseup",e),window.addEventListener("touchend",e),()=>{window.removeEventListener("mouseup",e),window.removeEventListener("touchend",e)}},[]),(0,t.jsxs)("div",{ref:u,className:"relative w-full aspect-video overflow-hidden rounded-xl",onMouseMove:e=>{if(!d||!u.current)return;let t=u.current,r=t.getBoundingClientRect();o(Math.max(0,Math.min(100,(e.clientX-r.left)/t.offsetWidth*100)))},onMouseUp:()=>{c(!1)},onTouchMove:e=>{if(!d||!u.current)return;let t=u.current,r=t.getBoundingClientRect();o(Math.max(0,Math.min(100,(e.touches[0].clientX-r.left)/t.offsetWidth*100)))},onTouchEnd:()=>{c(!1)},style:{cursor:d?"grabbing":"grab"},children:[(0,t.jsx)("div",{className:"absolute inset-0 w-full h-full",children:(0,t.jsx)(l.default,{src:"".concat(s).concat(a),alt:"原图",fill:!0,sizes:"(max-width: 768px) 100vw, 50vw",className:"object-cover",priority:!0})}),(0,t.jsx)("div",{className:"absolute inset-0 w-full h-full",children:(0,t.jsx)("div",{className:"absolute inset-0 w-full h-full",style:{clipPath:"inset(0 0 0 ".concat(i,"%)")},children:(0,t.jsx)(l.default,{src:"".concat(s).concat(n),alt:"效果图",fill:!0,sizes:"(max-width: 768px) 100vw, 50vw",className:"object-cover",priority:!0})})}),(0,t.jsx)("div",{className:"absolute top-0 bottom-0 w-0.5 bg-white shadow-lg cursor-grab active:cursor-grabbing",style:{left:"".concat(i,"%"),transform:"translateX(50%)"},onMouseDown:m,onTouchStart:f,children:(0,t.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-6 h-6 bg-white rounded-full shadow-lg flex items-center justify-center cursor-grab active:cursor-grabbing",onMouseDown:m,onTouchStart:f,children:(0,t.jsxs)("div",{className:"flex items-center justify-center",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-3 text-gray-700",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10.707 3.293a1 1 0 010 1.414L6.414 9l4.293 4.293a1 1 0 01-1.414 1.414l-5-5a1 1 0 010-1.414l5-5a1 1 0 011.414 0z",clipRule:"evenodd"})}),(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-3 text-gray-700",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M9.293 3.293a1 1 0 011.414 0l5 5a1 1 0 010 1.414l-5 5a1 1 0 01-1.414-1.414L13.586 9l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})}),(0,t.jsx)("div",{className:"absolute top-4 left-4 bg-black/50 text-white px-2 py-1 text-sm rounded-md",children:(0,t.jsx)("small",{children:"原图"})}),(0,t.jsx)("div",{className:"absolute top-4 right-4 bg-black/50 text-white px-2 py-1 text-sm rounded-md",children:(0,t.jsx)("small",{children:"吉卜力风格"})})]})},n=e=>{let{ossHost:l}=e,[n,s]=(0,r.useState)([]);return(0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("/data/case.json");if(!e.ok)throw Error("Failed to fetch case data");let t=await e.json();s(t)}catch(e){console.error("Error loading case data:",e)}})()},[]),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-10",children:n.map((e,r)=>(0,t.jsx)("div",{className:"showcase-item",children:(0,t.jsx)("div",{className:"w-full",children:(0,t.jsx)(a,{original:e.original,effect:e.effect,ossHost:l})})},r))})},s=[{id:"square",label:"正方形(1:1)",value:"1024x1024"},{id:"landscape",label:"横图(16:9)",value:"1792x1024"},{id:"portrait",label:"竖图(9:16)",value:"1024x1792"}];function i(){let[e,a]=(0,r.useState)(""),[i,o]=(0,r.useState)(""),[d,c]=(0,r.useState)(!1),[u,m]=(0,r.useState)(""),[f,h]=(0,r.useState)(""),[g,p]=(0,r.useState)("img2img"),[x,b]=(0,r.useState)(null),[v,w]=(0,r.useState)(""),[j,y]=(0,r.useState)(null),[N,_]=(0,r.useState)("1024x1024"),[k,C]=(0,r.useState)(!1),[S,E]=(0,r.useState)(!1),P=(0,r.useRef)(null),M=(0,r.useRef)(null),O=(0,r.useRef)(null),R="https://api.xlap.top/v1",z="https://xlaptop.oss-cn-hongkong.aliyuncs.com/ghiblix/";(0,r.useEffect)(()=>{let e=localStorage.getItem("x-api-key");e&&(w(e),I(e)),h(z+"bg.png")},[]);let I=e=>{let t=e.startsWith("sk-")&&51===e.length;return y(t),t},A=async()=>{if("img2img"===g&&!x)return void m("请上传一张图片");if(c(!0),m(""),o(""),!v||!0!==j){m("未填写X Key或X Key格式无效"),c(!1);return}try{if("text2img"===g){let a="以吉卜力工作室风格创建一张图片：".concat(e,"。使用宫崎骏特有的艺术风格，包括柔和的色彩、精致的细节、梦幻的场景和独特的角色设计。"),n=await fetch(R+"/images/generations",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(v)},body:JSON.stringify({prompt:a,sync_mode:!1,model:"sora_image",n:1,size:N})}),s=await n.json();if(!n.ok)throw Error(s.error.message||"图片生成失败");if(s.data&&s.data.length>0)if(s.data[0].url)o(s.data[0].url);else if(s.data[0].b64_json){let e="data:image/jpeg;base64,".concat(s.data[0].b64_json);o(e)}else throw Error("API返回的数据格式不正确");else{var t,r,l;let e=null==(l=s.choices)||null==(r=l[0])||null==(t=r.message)?void 0:t.content;if(e){let t=e.match(/base64,([^"]+)/);if(t&&t[1]){let e="data:image/jpeg;base64,".concat(t[1]);o(e)}else throw Error("未能从回复中解析到图片数据")}else throw Error("API未返回有效内容")}}else{let t=new FormData;return t.append("prompt",e),t.append("image",x),await L(t)}}catch(e){m(e instanceof Error?e.message:"图片生成过程中发生错误")}finally{c(!1)}},L=async e=>{if(!v||!0!==j){m("未填写X Key或X Key格式无效"),c(!1);return}try{let a=e.get("prompt"),n=e.get("image"),s=new FormData;s.append("prompt","以吉卜力工作室风格修改此图片：".concat(a,"。使用宫崎骏特有的艺术风格，包括柔和的色彩、精致的细节、梦幻的场景和独特的角色设计。")),s.append("model","flux-kontext-pro"),s.append("sync_mode","false"),s.append("image",n);let i=await fetch(R+"/images/edits",{method:"POST",headers:{Authorization:"Bearer ".concat(v)},body:s}),d=await i.json();if(!i.ok)throw Error(d.error||"图片生成失败");if(d.data&&d.data.length>0)if(d.data[0].url)o(d.data[0].url);else if(d.data[0].b64_json){let e="data:image/jpeg;base64,".concat(d.data[0].b64_json);o(e)}else throw Error("API返回的数据格式不正确");else{var t,r,l;let e=null==(l=d.choices)||null==(r=l[0])||null==(t=r.message)?void 0:t.content;if(e){let t=e.match(/base64,([^"]+)/);if(t&&t[1]){let e="data:image/jpeg;base64,".concat(t[1]);o(e)}else throw Error("未能从回复中解析到图片数据")}else throw Error("API未返回有效内容")}}catch(e){m(e instanceof Error?e.message:"图片生成过程中发生错误")}finally{c(!1)}};(0,r.useEffect)(()=>{let e=()=>{window.scrollY,window.innerHeight};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[]);let B=(0,r.useCallback)(e=>{let t=document.querySelector(".snap-y.snap-mandatory"),r=document.querySelectorAll(".snap-start")[e];if(t&&r){let e=t.getBoundingClientRect(),l=r.getBoundingClientRect().top-e.top+t.scrollTop;t.scrollTo({top:l,behavior:"smooth"})}else{let t=window.innerHeight;window.scrollTo({top:t*e,behavior:"smooth"})}},[]);return(0,t.jsxs)("div",{className:"snap-y snap-mandatory h-screen overflow-y-auto",children:[(0,t.jsxs)("div",{className:"page-first flex items-center min-h-screen relative snap-start",children:[(0,t.jsx)("div",{className:"absolute inset-0 w-full h-full z-0",style:f?{backgroundImage:"url(".concat(f,")"),backgroundSize:"cover",backgroundPosition:"center"}:{}}),(0,t.jsx)("div",{className:"absolute top-10 right-20",children:(0,t.jsx)("div",{className:"flex justify-end mb-4",children:(0,t.jsxs)("div",{className:"flex space-x-4",children:[(0,t.jsx)("a",{href:"https://api.xlap.top",target:"_blank",rel:"noopener noreferrer",title:"AI中转站",className:"px-3 py-1 bg-black/70 hover:bg-black text-white rounded-md transition-colors text-sm",children:"X API"}),(0,t.jsx)("a",{href:"https://nano.xlap.top",target:"_blank",rel:"noopener noreferrer",title:"纳米香蕉",className:"px-3 py-1 bg-black/70 hover:bg-black text-white rounded-md transition-colors text-sm",children:"Nano Banana X"}),(0,t.jsx)("a",{href:"https://sora.xlap.top",target:"_blank",rel:"noopener noreferrer",title:"Sora2X",className:"px-3 py-1 bg-black/70 hover:bg-black text-white rounded-md transition-colors text-sm",children:"Sora2X"})]})})}),(0,t.jsxs)("div",{className:"container mx-auto px-4 py-12 relative z-10 text-white",children:[(0,t.jsxs)("header",{className:"mb-12 text-center",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold text-white mb-4 drop-shadow-lg",children:"吉卜力风格图像生成器 GhibliX"}),(0,t.jsxs)("p",{className:"text-lg text-white text-opacity-90 max-w-2xl mx-auto drop-shadow-md",children:["第三方AI接口平台 ",(0,t.jsx)("a",{target:"_blank",href:"https://api.xlap.top",children:"X API"}),"，文生图",(0,t.jsx)("b",{children:"￥0.075"}),(0,t.jsx)("small",{children:"/次"}),"，图生图",(0,t.jsx)("b",{children:"￥0.18"}),(0,t.jsx)("small",{children:"/次"}),"，注册送",(0,t.jsx)("b",{children:"￥0.3"})]})]}),(0,t.jsxs)("div",{className:"max-w-3xl mx-auto rounded-xl shadow-lg p-6",style:{backgroundColor:"rgba(227, 218, 173, 0.8)"},children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4 text-black",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),p("img2img")},className:"".concat("img2img"===g?"font-bold underline":"hover:underline"),children:"图生图"}),(0,t.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),p("text2img"),b(null),_("1024x1024"),O.current&&(O.current.value="")},className:"mr-4 ".concat("text2img"===g?"font-bold underline":"hover:underline"),children:"文生图"})]}),(0,t.jsxs)("div",{className:"flex items-center text-black",children:[(0,t.jsx)("div",{className:"relative w-64",children:(0,t.jsx)("input",{type:"text",value:v,onChange:e=>{w(e.target.value)},onBlur:()=>{""!==v.trim()?I(v)&&localStorage.setItem("x-api-key",v):y(null)},placeholder:"请输入X Key",className:"w-full px-3 py-2 rounded-md text-sm outline-none",style:{backgroundColor:"rgba(227, 218, 173, 0.8)"}})}),(0,t.jsxs)("div",{className:"ml-2 flex items-center gap-1",children:[(0,t.jsxs)("div",{className:"flex items-center pr-1",children:[!0===j&&(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),!1===j&&(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})]}),(!v||!1===j)&&(0,t.jsxs)("div",{className:"flex items-center gap-1 relative",children:[(0,t.jsx)("a",{href:"https://api.xlap.top",target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 text-sm hover:underline",children:"获取"}),(0,t.jsxs)("div",{ref:M,className:"relative cursor-help",onMouseEnter:()=>E(!0),onMouseLeave:()=>E(!1),children:[(0,t.jsx)("svg",{className:"w-4 h-4 text-gray-500 hover:text-gray-700",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),S&&(0,t.jsxs)("div",{className:"absolute bg-gray-800 text-white text-xs rounded-lg p-3 shadow-lg z-50 whitespace-nowrap",style:{left:"50%",bottom:"100%",transform:"translateX(-50%)",marginBottom:"8px",minWidth:"200px"},children:[(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("div",{children:"1、注册登录X API平台"}),(0,t.jsx)("div",{children:"2、添加令牌，自定义名称，default分组即可"}),(0,t.jsx)("div",{children:"3、充值余额，复制key至左侧"})]}),(0,t.jsx)("div",{className:"absolute left-1/2 bottom-0 transform -translate-x-1/2 translate-y-1/2 rotate-45 w-2 h-2 bg-gray-800"})]})]})]}),v&&(0,t.jsx)("a",{onClick:()=>{w(""),y(null),localStorage.removeItem("x-api-key")},className:"text-gray-600 text-sm hover:underline",children:"清除"})]})]})]}),(0,t.jsxs)("div",{className:"flex ".concat("text2img"===g?"":"mb-6"),children:["img2img"===g&&(0,t.jsxs)("div",{className:"mr-4 flex-shrink-0",children:[(0,t.jsx)("input",{type:"file",ref:O,accept:"image/*",onChange:e=>{var t;let r=null==(t=e.target.files)?void 0:t[0];if(r){if(!r.type.startsWith("image/"))return void m("请上传图片文件");b(r),m("")}},className:"hidden",id:"image-upload"}),(0,t.jsx)("label",{htmlFor:"image-upload",className:"w-32 h-32 border-2 border-dashed border-gray-600 rounded-lg cursor-pointer flex items-center justify-center transition-colors overflow-hidden",children:x?(0,t.jsx)(l.default,{src:URL.createObjectURL(x),alt:"上传的图片",className:"w-full h-full object-cover",width:128,height:128}):(0,t.jsxs)("div",{className:"text-center text-gray-500 text-sm",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 mx-auto mb-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"点击上传图片"]})})]}),(0,t.jsxs)("div",{className:"".concat("img2img"===g?"flex-grow":"w-full"),children:[(0,t.jsx)("textarea",{id:"prompt",className:"w-full h-32 px-4 py-3 border border-gray-300 dark:border-gray-500 rounded-lg text-black dark:text-black outline-none",style:{backgroundColor:"rgba(227, 218, 173, 0.8)"},placeholder:"text2img"===g?"例如：一个小女孩在森林中与小精灵一起玩耍，阳光透过树叶洒落":"描述如何修改上传的图片，例如：戴上眼镜；不填写默认转换成吉卜力风格",rows:4,value:e,onChange:e=>a(e.target.value)}),"text2img"===g&&(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsx)("select",{id:"image-size",value:N,onChange:e=>_(e.target.value),className:"px-3 py-2 border border-gray-500 text-gray-500 justify-center items-center rounded-md text-sm outline-none",style:{backgroundColor:"rgba(227, 218, 173, 0.8)"},children:s.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.id))})})]})]})]}),(0,t.jsxs)("div",{className:"max-w-3xl mx-auto flex justify-end gap-3 mt-4",children:[(0,t.jsx)("button",{onClick:()=>{a(""),o(""),m(""),b(null),O.current&&(O.current.value="")},className:"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white font-medium rounded-lg shadow transition-colors text-sm",children:"重置"}),(0,t.jsx)("button",{onClick:A,disabled:d,className:"px-4 py-2 bg-black hover:bg-black/80 text-white font-medium rounded-lg shadow transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed text-sm",children:d?(0,t.jsxs)("span",{className:"flex items-center",children:[(0,t.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"生成中..."]}):"text2img"===g?"生成图像":"转换图像"})]}),u&&(0,t.jsx)("div",{className:"max-w-3xl mx-auto bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg p-4 mb-8 mt-4",children:(0,t.jsx)("p",{className:"text-red-700 dark:text-red-300",children:u})}),i&&(0,t.jsxs)("div",{className:"max-w-3xl mx-auto text-center dark:bg-opacity-60 rounded-xl shadow-lg p-6 mb-8 mt-8",style:{backgroundColor:"rgba(227, 218, 173, 0.8)"},children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-slate-800 dark:text-gray-600 mb-4",children:"生成的图像"}),(0,t.jsx)("div",{className:"relative w-full max-w-2xl mx-auto rounded-lg overflow-hidden",children:(0,t.jsx)(l.default,{src:i,alt:"生成的吉卜力风格图像",className:"w-full h-auto",width:1024,height:1024,style:{width:"100%",height:"auto"},unoptimized:!0})}),(0,t.jsx)("div",{className:"mt-4 text-center",children:(0,t.jsx)("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:"text-amber-800 hover:text-amber-800 dark:text-amber-600 dark:hover:text-amber-600 underline",children:"保存图片"})})]}),(0,t.jsxs)("footer",{className:"text-center text-white text-opacity-70 mt-12 relative",children:[(0,t.jsxs)("div",{children:["© 2025 GhibliX. 如有疑问请",(0,t.jsx)("span",{ref:P,className:"ml-1 cursor-pointer hover:text-white hover:underline",onMouseEnter:()=>C(!0),onMouseLeave:()=>C(!1),children:"[联系我]"})]}),k&&P.current&&(0,t.jsxs)("div",{className:"absolute bg-white p-3 rounded-lg shadow-lg z-50",style:{left:"50%",bottom:"100%",transform:"translateX(-50%)",marginBottom:"10px"},children:[(0,t.jsx)(l.default,{src:"/images/qrcode.png",alt:"联系二维码",width:150,height:150,className:"rounded"}),(0,t.jsx)("div",{className:"absolute left-1/2 bottom-0 transform -translate-x-1/2 translate-y-1/2 rotate-45 w-4 h-4 bg-white"})]})]})]}),(0,t.jsx)("div",{className:"absolute bottom-0 left-0 right-0 flex justify-center",children:(0,t.jsx)("button",{onClick:()=>B(1),className:"animate-bounce bg-white/20 p-2 w-10 h-10 ring-1 ring-white/20 shadow-lg rounded-full flex items-center justify-center hover:bg-white/30 transition-colors","aria-label":"向下滚动",children:(0,t.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})})})]}),(0,t.jsxs)("div",{className:"page-second bg-black min-h-screen flex items-center justify-center relative snap-start",children:[(0,t.jsx)("div",{className:"container mx-auto px-4 py-12 relative z-10 text-white",children:(0,t.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,t.jsx)(n,{ossHost:z})})}),(0,t.jsx)("div",{className:"absolute top-4 left-0 right-0 flex justify-center",children:(0,t.jsx)("button",{onClick:()=>B(0),className:"bg-white/20 p-2 w-10 h-10 ring-1 ring-white/20 shadow-lg rounded-full flex items-center justify-center hover:bg-white/30 transition-colors","aria-label":"向上滚动",children:(0,t.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{d:"M5 10l7-7m0 0l7 7m-7-7v18"})})})})]})]})}}]);